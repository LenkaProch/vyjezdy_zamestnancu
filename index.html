<!DOCTYPE html>
<html lang="cs">
<head>
  

  <meta charset="UTF-8">
  <title>HodnocenÃ­ Å¾Ã¡dosti o vÃ½jezd</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  window.jsPDF = window.jspdf.jsPDF;

  fetch('Roboto-Regular.ttf')
    .then(response => response.arrayBuffer())
    .then(buffer => {
      const base64String = btoa(
        new Uint8Array(buffer).reduce((data, byte) => data + String.fromCharCode(byte), '')
      );

      const doc = new jsPDF();
      doc.addFileToVFS("Roboto-Regular.ttf", base64String);
      doc.addFont("Roboto-Regular.ttf", "Roboto", "normal");
      window.robotoReady = true;
    });
</script>

  
  <style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    max-width: 800px;
    margin: auto;
    padding: 2em;
    background-color: #ffffff;
    color: #333;
  }

  header {
    border-bottom: 3px solid #005EB8;
    padding-bottom: 1em;
    margin-bottom: 2em;
  }

  label {
    display: block;
    margin-top: 1.5em;
    font-weight: 600;
    color: #005EB8;
  }

  select, input[type=checkbox] {
    margin-top: 0.5em;
  }

  .result {
    font-size: 1.2em;
    margin-top: 2em;
    background: #E6F2FA;
    border-left: 5px solid #005EB8;
    padding: 1em;
  }

  button {
    margin-top: 2em;
    padding: 0.6em 1.5em;
    font-size: 1em;
    background-color: #005EB8;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  button:hover {
    background-color: #004a94;
  }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body>
 <header style="display:flex; align-items:center; margin-bottom:2em;">
  <img src="logo_pef.png" alt="Logo PEF MENDELU" style="height:60px; margin-right:1em;">
  <h1 style="font-size:2.5rem; color:#005EB8; font-family:'Segoe UI', Arial, sans-serif; margin:0;">
    FormulÃ¡Å™ Å¾Ã¡dosti o vÃ½jezd
  </h1>
</header>

  <form id="scoreForm" style="padding:2em; border:1px solid #CCE0F4; border-radius:8px; background-color:#FAFCFF;">

    <label style="color: #005EB8; font-weight: 600;">1. OdbornÃ½ pÅ™Ã­nos vÃ½jezdu</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovÄ›Ä.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="odborny" value="20" required> VÃ½jezd pÅ™Ã­mo souvisÃ­ s Å™eÅ¡enÃ­m aktuÃ¡lnÃ­ho grantovÃ©ho projektu zamÄ›stnance.<br>
  <input type="radio" name="odborny" value="15"> VÃ½jezd pÅ™Ã­mo navazuje na odbornou Äi vÃ½zkumnou Äinnost zamÄ›stnance (ÄlÃ¡nek, kniha, vÃ½uka), ale nenÃ­ souÄÃ¡stÃ­ konkrÃ©tnÃ­ho projektu.<br>
  <input type="radio" name="odborny" value="8"> VÃ½jezd slouÅ¾Ã­ k obecnÃ©mu profesnÃ­mu rozvoji bez jasnÃ© nÃ¡vaznosti na projekt Äi odbornou Äinnost zamÄ›stnance.<br>
  <input type="radio" name="odborny" value="3"> VÃ½jezd mÃ¡ jen okrajovÃ½ nebo pasivnÃ­ pÅ™Ã­nos, bez zÅ™ejmÃ©ho dopadu na Äinnost pracovnÃ­ka (napÅ™. pouze jako posluchaÄ bez moÅ¾nosti navÃ¡zÃ¡nÃ­ spoluprÃ¡ce).<br>
</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">2. Role na zahraniÄnÃ­ akci nebo instituci</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovÄ›Ä.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="aktivita" value="25" required> Keynote, moderace sekce, vystoupenÃ­ na plenÃ¡rnÃ­m zasedÃ¡nÃ­, networking na zahraniÄnÃ­ instituci, prohlubovÃ¡nÃ­ vztahÅ¯.<br>
  <input type="radio" name="aktivita" value="15"> Prezentace ÄlÃ¡nku, pÅ™ednÃ¡Å¡ka.<br>
  <input type="radio" name="aktivita" value="10"> Prezentace posteru<br>
  <input type="radio" name="aktivita" value="0"> Bez aktivnÃ­ ÃºÄasti (pouze posluchaÄ)<br>
</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">3. OÄekÃ¡vanÃ© vÃ½stupy vÃ½jezdu/pÅ™Ã­nos pro Ãºstav</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  NeomezenÃ½ poÄet odpovÄ›dÃ­.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="checkbox" name="vystup" value="20"> NÃ¡vrh grantovÃ©ho projektu se zahraniÄnÃ­m partnerem.<br>
  <input type="checkbox" name="vystup" value="10"> Memorandum of Understanding/mezinÃ¡rodnÃ­ spoluprÃ¡ce.<br>
  <input type="checkbox" name="vystup" value="10"> ÄŒlÃ¡nek ve WoS.<br>
  <input type="checkbox" name="vystup" value="5"> ÄŒlÃ¡nek ve Scopus, uÄebnÃ­ materiÃ¡ly, nÃ¡vrh grantu bez partnera.<br>
  <input type="checkbox" name="vystup" value="1"> OdbornÃ½ ÄlÃ¡nek (neimpakt.), sbornÃ­k.<br>
  <label for="popis_vystupu" style="color: #005EB8; font-weight: 600; display:block; margin-top: 1.5em;">
  Specifikujte plÃ¡novanÃ½ pÅ™Ã­nos a ÄasovÃ½ harmonogram vÃ½stupÅ¯:
</label>
<textarea name="popis_vystupu" rows="5" style="width: 95%; margin-left: 2.5em; font-size: 0.9em;"></textarea>


</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">4. PoÄet vÃ½jezdÅ¯ v poslednÃ­ch 2 letech</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovÄ›Ä.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="frekvence" value="15" required> Å½Ã¡dnÃ½ vÃ½jezd<br>
  <input type="radio" name="frekvence" value="10"> 1â€“2 vÃ½jezdy<br>
  <input type="radio" name="frekvence" value="5"> 3 vÃ½jezdy<br>
  <input type="radio" name="frekvence" value="0"> 4 a vÃ­ce vÃ½jezdÅ¯<br>
</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">5. PrestiÅ¾ akce, instituce nebo vazba na internacionalizaci</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovÄ›Ä.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="prestiÅ¾" value="10" required> PrestiÅ¾nÃ­ mezinÃ¡rodnÃ­ instituce/partnerstvÃ­ (strategickÃ½ partner).<br>
  <input type="radio" name="prestiÅ¾" value="5"> RenomovanÃ¡ akce nebo konference.<br>
  <input type="radio" name="prestiÅ¾" value="0"> RegionÃ¡lnÃ­ nebo mÃ©nÄ› vÃ½znamnÃ¡ akce.<br>
</div>

    </label>

    <button type="button" onclick="calculateScore()">Odeslat</button>
  </form>

  <div id="result" class="result" style="display:none"></div>
<button id="downloadPdf" style="display:none; margin-top: 1em;" onclick="generatePDF()">StÃ¡hnout jako PDF</button>


 <script>
  function calculateScore() {
    const form = document.forms.scoreForm;

    // 1. Kontrola, Å¾e kaÅ¾dÃ¡ skupina radio buttonÅ¯ mÃ¡ vybranou moÅ¾nost
    const requiredRadioNames = ["odborny", "aktivita", "frekvence", "prestiÅ¾"];
    for (let name of requiredRadioNames) {
      const selected = form.querySelector(`input[name="${name}"]:checked`);
      if (!selected) {
        alert("VyplÅˆte prosÃ­m vÅ¡echny povinnÃ© otÃ¡zky (1, 2, 4 a 5).");
        return;
      }
    }

    // 2. Kontrola, Å¾e je zaÅ¡krtnuta alespoÅˆ jedna moÅ¾nost u checkboxÅ¯ (otÃ¡zka 3)
    const vystupy = form.querySelectorAll('input[name="vystup"]:checked');
    if (vystupy.length === 0) {
      alert("Vyberte alespoÅˆ jednu moÅ¾nost u otÃ¡zky 3 (oÄekÃ¡vanÃ© vÃ½stupy).");
      return;
    }

    // 3. Kontrola textovÃ©ho pole â€“ nesmÃ­ bÃ½t prÃ¡zdnÃ©
    const popis = form.popis_vystupu.value.trim();
    if (popis === "") {
      alert("Specifikujte prosÃ­m pÅ™Ã­nos a ÄasovÃ½ harmonogram vÃ½stupÅ¯.");
      return;
    }

    // 4. VÃ½poÄet bodÅ¯
    let total = 0;
    total += parseInt(form.querySelector('input[name="odborny"]:checked').value);
    total += parseInt(form.querySelector('input[name="aktivita"]:checked').value);
    total += parseInt(form.querySelector('input[name="frekvence"]:checked').value);
    total += parseInt(form.querySelector('input[name="prestiÅ¾"]:checked').value);

    let vystupScore = 0;
    vystupy.forEach(v => vystupScore += parseInt(v.value));
    vystupScore = Math.min(vystupScore, 30);
    total += vystupScore;

    // 5. VÃ½stup
    const resultBox = document.getElementById("result");
    resultBox.style.display = "block";
    resultBox.innerHTML = `<strong>CelkovÃ© skÃ³re:</strong> ${total} bodÅ¯<br>` +
      (total >= 50
        ? "âœ… Å½Ã¡dost mÅ¯Å¾e bÃ½t zaÅ™azena do vÃ½bÄ›rovÃ©ho Å™Ã­zenÃ­."
        : "âŒ Å½Ã¡dost nesplÅˆuje minimÃ¡lnÃ­ hranici pro vÃ½bÄ›rovÃ© Å™Ã­zenÃ­.");
    document.getElementById("downloadPdf").style.display = "inline-block";

  }
</script>

<script>
  async function generatePDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    const form = document.forms.scoreForm;

    const getCheckedValue = (name) =>
      form.querySelector(`input[name="${name}"]:checked`)?.nextSibling.textContent.trim() || "-";

    const vystupy = Array.from(form.querySelectorAll('input[name="vystup"]:checked'))
      .map(cb => cb.nextSibling.textContent.trim())
      .join("\nâ€¢ ");

    const textPole = form.popis_vystupu.value.trim();
    const resultText = document.getElementById("result").innerText;

    // PouÅ¾ijeme zÃ¡kladnÃ­ font Helvetica (lÃ©pe funguje s ÄeÅ¡tinou ve jsPDF)
    doc.setFont("helvetica", "normal");
    doc.setFontSize(12);
    doc.setLineHeightFactor(1.4);

    const maxWidth = 180;
    let y = 20;

    function addTextBlock(label, content) {
      const lines = doc.splitTextToSize(`${label}\n${content}`, maxWidth);
      doc.text(lines, 15, y);
      y += lines.length * 7; // Å™Ã¡dkovÃ¡nÃ­
    }

    // Obsah PDF
    addTextBlock("ğŸ“ HodnocenÃ­ Å¾Ã¡dosti o vÃ½jezd â€“ PEF MENDELU", "");
    addTextBlock("1. OdbornÃ½ pÅ™Ã­nos vÃ½jezdu:", `â€¢ ${getCheckedValue("odborny")}`);
    addTextBlock("2. Role na zahraniÄnÃ­ akci nebo instituci:", `â€¢ ${getCheckedValue("aktivita")}`);
    addTextBlock("3. OÄekÃ¡vanÃ© vÃ½stupy vÃ½jezdu/pÅ™Ã­nos pro Ãºstav:", vystupy ? `â€¢ ${vystupy}` : "â€¢ â€“");
    addTextBlock("TextovÃ½ popis pÅ™Ã­nosu a harmonogram:", textPole || "â€“");
    addTextBlock("4. PoÄet vÃ½jezdÅ¯ v poslednÃ­ch 2 letech:", `â€¢ ${getCheckedValue("frekvence")}`);
    addTextBlock("5. PrestiÅ¾ akce, instituce nebo vazba na internacionalizaci:", `â€¢ ${getCheckedValue("prestiÅ¾")}`);
    addTextBlock("ğŸ“Š VÃ½sledek hodnocenÃ­:", resultText);

    doc.save("hodnoceni-vyjezdu.pdf");
  }
</script>




</body>
</html>
