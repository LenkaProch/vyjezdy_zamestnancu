<!DOCTYPE html>
<html lang="cs">
<head>
  

  <meta charset="UTF-8">
  <title>Hodnocen√≠ ≈æ√°dosti o v√Ωjezd</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  window.jsPDF = window.jspdf.jsPDF;

  window.robotoReady = false;

  fetch("Roboto-Regular.ttf")
    .then(response => response.arrayBuffer())
    .then(buffer => {
      const base64String = btoa(
        new Uint8Array(buffer).reduce((data, byte) => data + String.fromCharCode(byte), '')
      );

      const tempDoc = new jsPDF();
      tempDoc.addFileToVFS("Roboto-Regular.ttf", base64String);
      tempDoc.addFont("Roboto-Regular.ttf", "Roboto", "normal");
      window.robotoReady = true;
    });
</script>


  
  <style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    max-width: 800px;
    margin: auto;
    padding: 2em;
    background-color: #ffffff;
    color: #333;
  }

  header {
    border-bottom: 3px solid #005EB8;
    padding-bottom: 1em;
    margin-bottom: 2em;
  }

  label {
    display: block;
    margin-top: 1.5em;
    font-weight: 600;
    color: #005EB8;
  }

  select, input[type=checkbox] {
    margin-top: 0.5em;
  }

  .result {
    font-size: 1.2em;
    margin-top: 2em;
    background: #E6F2FA;
    border-left: 5px solid #005EB8;
    padding: 1em;
  }

  button {
    margin-top: 2em;
    padding: 0.6em 1.5em;
    font-size: 1em;
    background-color: #005EB8;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  button:hover {
    background-color: #004a94;
  }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
 

<body>
 <header style="display:flex; align-items:center; margin-bottom:2em;">
  <img src="logo_pef.png" alt="Logo PEF MENDELU" style="height:60px; margin-right:1em;">
  <h1 style="font-size:2.5rem; color:#005EB8; font-family:'Segoe UI', Arial, sans-serif; margin:0;">
    Formul√°≈ô ≈æ√°dosti o v√Ωjezd
  </h1>
</header>

  <form id="scoreForm" style="padding:2em; border:1px solid #CCE0F4; border-radius:8px; background-color:#FAFCFF;">
<p>
    <label for="jmeno"><strong>Jm√©no a p≈ô√≠jmen√≠ ≈æadatele:</strong></label><br>
    <input type="text" name="jmeno" id="jmeno" style="width: 100%;" required>
  </p>
    <label style="color: #005EB8; font-weight: 600;">1. Odborn√Ω p≈ô√≠nos v√Ωjezdu</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovƒõƒè.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="odborny" value="20" required> V√Ωjezd p≈ô√≠mo souvis√≠ s ≈ôe≈°en√≠m aktu√°ln√≠ho grantov√©ho projektu zamƒõstnance.<br>
  <input type="radio" name="odborny" value="15"> V√Ωjezd p≈ô√≠mo navazuje na odbornou ƒçi v√Ωzkumnou ƒçinnost zamƒõstnance (ƒçl√°nek, kniha, v√Ωuka), ale nen√≠ souƒç√°st√≠ konkr√©tn√≠ho projektu.<br>
  <input type="radio" name="odborny" value="8"> V√Ωjezd slou≈æ√≠ k obecn√©mu profesn√≠mu rozvoji bez jasn√© n√°vaznosti na projekt ƒçi odbornou ƒçinnost zamƒõstnance.<br>
  <input type="radio" name="odborny" value="3"> V√Ωjezd m√° jen okrajov√Ω nebo pasivn√≠ p≈ô√≠nos, bez z≈ôejm√©ho dopadu na ƒçinnost pracovn√≠ka (nap≈ô. pouze jako posluchaƒç bez mo≈ænosti nav√°z√°n√≠ spolupr√°ce).<br>
</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">2. Role na zahraniƒçn√≠ akci nebo instituci</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovƒõƒè.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="aktivita" value="25" required> Keynote, moderace sekce, vystoupen√≠ na plen√°rn√≠m zased√°n√≠, networking na zahraniƒçn√≠ instituci, prohlubov√°n√≠ vztah≈Ø.<br>
  <input type="radio" name="aktivita" value="15"> Prezentace ƒçl√°nku, p≈ôedn√°≈°ka.<br>
  <input type="radio" name="aktivita" value="10"> Prezentace posteru<br>
  <input type="radio" name="aktivita" value="0"> Bez aktivn√≠ √∫ƒçasti (pouze posluchaƒç)<br>
</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">3. Oƒçek√°van√© v√Ωstupy v√Ωjezdu/p≈ô√≠nos pro √∫stav</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Neomezen√Ω poƒçet odpovƒõd√≠.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="checkbox" name="vystup" value="20"> N√°vrh grantov√©ho projektu se zahraniƒçn√≠m partnerem.<br>
  <input type="checkbox" name="vystup" value="10"> Memorandum of Understanding/mezin√°rodn√≠ spolupr√°ce.<br>
  <input type="checkbox" name="vystup" value="10"> ƒål√°nek ve WoS.<br>
  <input type="checkbox" name="vystup" value="5"> ƒål√°nek ve Scopus, uƒçebn√≠ materi√°ly, n√°vrh grantu bez partnera.<br>
  <input type="checkbox" name="vystup" value="1"> Odborn√Ω ƒçl√°nek (neimpakt.), sborn√≠k.<br>
  <label for="popis_vystupu" style="color: #005EB8; font-weight: 600; display:block; margin-top: 1.5em;">
  Specifikujte pl√°novan√Ω p≈ô√≠nos a ƒçasov√Ω harmonogram v√Ωstup≈Ø:
</label>
<textarea name="popis_vystupu" rows="5" style="width: 95%; margin-left: 2.5em; font-size: 0.9em;"></textarea>


</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">4. Poƒçet v√Ωjezd≈Ø v posledn√≠ch 2 letech</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovƒõƒè.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="frekvence" value="15" required> ≈Ω√°dn√Ω v√Ωjezd<br>
  <input type="radio" name="frekvence" value="10"> 1‚Äì2 v√Ωjezdy<br>
  <input type="radio" name="frekvence" value="5"> 3 v√Ωjezdy<br>
  <input type="radio" name="frekvence" value="0"> 4 a v√≠ce v√Ωjezd≈Ø<br>
</div>

    </label>

    <label style="color: #005EB8; font-weight: 600;">5. Presti≈æ akce, instituce nebo vazba na internacionalizaci</label>
    <p style="margin: 0.2em 0 0.8em 2.5em; font-size: 0.75em; color: #555;">
  Pouze jedna odpovƒõƒè.
</p>
<div style="margin-left: 2.5em; color: #000000; font-size: 0.8em; line-height: 2;">
  <input type="radio" name="presti≈æ" value="10" required> Presti≈æn√≠ mezin√°rodn√≠ instituce/partnerstv√≠ (strategick√Ω partner).<br>
  <input type="radio" name="presti≈æ" value="5"> Renomovan√° akce nebo konference.<br>
  <input type="radio" name="presti≈æ" value="0"> Region√°ln√≠ nebo m√©nƒõ v√Ωznamn√° akce.<br>
</div>

    </label>

    <button type="button" onclick="calculateScore()">Odeslat</button>
  </form>

  <div id="result" class="result" style="display:none"></div>
<button id="downloadPdf" style="display:none; margin-top: 1em;" onclick="generatePDF()">St√°hnout jako PDF</button>


 <script>
  function calculateScore() {
    const form = document.forms.scoreForm;

    // 1. Kontrola, ≈æe ka≈æd√° skupina radio button≈Ø m√° vybranou mo≈ænost
    const requiredRadioNames = ["odborny", "aktivita", "frekvence", "presti≈æ"];
    for (let name of requiredRadioNames) {
      const selected = form.querySelector(`input[name="${name}"]:checked`);
      if (!selected) {
        alert("Vypl≈àte pros√≠m v≈°echny povinn√© ot√°zky (1, 2, 4 a 5).");
        return;
      }
    }

    // 2. Kontrola, ≈æe je za≈°krtnuta alespo≈à jedna mo≈ænost u checkbox≈Ø (ot√°zka 3)
    const vystupy = form.querySelectorAll('input[name="vystup"]:checked');
    if (vystupy.length === 0) {
      alert("Vyberte alespo≈à jednu mo≈ænost u ot√°zky 3 (oƒçek√°van√© v√Ωstupy).");
      return;
    }

    // 3. Kontrola textov√©ho pole ‚Äì nesm√≠ b√Ωt pr√°zdn√©
    const popis = form.popis_vystupu.value.trim();
    if (popis === "") {
      alert("Specifikujte pros√≠m p≈ô√≠nos a ƒçasov√Ω harmonogram v√Ωstup≈Ø.");
      return;
    }

    // 4. V√Ωpoƒçet bod≈Ø
    let total = 0;
    total += parseInt(form.querySelector('input[name="odborny"]:checked').value);
    total += parseInt(form.querySelector('input[name="aktivita"]:checked').value);
    total += parseInt(form.querySelector('input[name="frekvence"]:checked').value);
    total += parseInt(form.querySelector('input[name="presti≈æ"]:checked').value);

    let vystupScore = 0;
    vystupy.forEach(v => vystupScore += parseInt(v.value));
    vystupScore = Math.min(vystupScore, 30);
    total += vystupScore;

    // 5. V√Ωstup
    const resultBox = document.getElementById("result");
    resultBox.style.display = "block";
    resultBox.innerHTML = `<strong>Celkov√© sk√≥re:</strong> ${total} bod≈Ø<br>` +
      (total >= 50
        ? "‚úÖ ≈Ω√°dost m≈Ø≈æe b√Ωt za≈ôazena do v√Ωbƒõrov√©ho ≈ô√≠zen√≠."
        : "‚ùå ≈Ω√°dost nespl≈àuje minim√°ln√≠ hranici pro v√Ωbƒõrov√© ≈ô√≠zen√≠.");
    document.getElementById("downloadPdf").style.display = "inline-block";

  }
</script>

<script>
  async function generatePDF() {
    const { jsPDF } = window.jspdf;

    if (!window.robotoReady) {
      alert("Font Roboto je≈°tƒõ nen√≠ naƒçten. Zkuste to za p√°r vte≈ôin.");
      return;
    }

    const doc = new jsPDF();
    doc.addFileToVFS("Roboto-Regular.ttf", window.robotoFont);
    doc.addFont("Roboto-Regular.ttf", "Roboto", "normal");
    doc.setFont("Roboto", "normal");
    doc.setFontSize(12);
    doc.setLineHeightFactor(1.8);

    const form = document.forms.scoreForm;

    const jmeno = form.jmeno.value.trim();
if (!jmeno) {
  alert("Vypl≈àte pros√≠m jm√©no a p≈ô√≠jmen√≠ ≈æadatele.");
  return;
}


    const getCheckedValue = (name) =>
      form.querySelector(`input[name="${name}"]:checked`)?.nextSibling.textContent.trim() || "-";

    const vystupy = Array.from(form.querySelectorAll('input[name="vystup"]:checked'))
      .map(cb => cb.nextSibling.textContent.trim())
      .join("\n‚Ä¢ ");

    const textPole = form.popis_vystupu.value.trim();
    const resultText = document.getElementById("result").innerText;

    const maxWidth = 180;
    let y = 20;

    function addTextBlock(label, content) {
      const lines = doc.splitTextToSize(`${label}\n${content}`, maxWidth);
      doc.text(lines, 15, y);
      y += lines.length * 9;
    }

    doc.setFont("Roboto", "bold");
doc.setFontSize(14);
doc.text("Hodnocen√≠ ≈æ√°dosti o v√Ωjezd ‚Äì √östav marketingu a obchodu", doc.internal.pageSize.getWidth() / 2, y, { align: "center" });
y += 15;
doc.setFont("Roboto", "normal");
doc.setFontSize(12);

    addTextBlock("üë§ Jm√©no a p≈ô√≠jmen√≠ ≈æadatele:", jmeno);

    addTextBlock("1. Odborn√Ω p≈ô√≠nos v√Ωjezdu:", `‚Ä¢ ${getCheckedValue("odborny")}`);
    addTextBlock("2. Role na zahraniƒçn√≠ akci nebo instituci:", `‚Ä¢ ${getCheckedValue("aktivita")}`);
    addTextBlock("3. Oƒçek√°van√© v√Ωstupy v√Ωjezdu/p≈ô√≠nos pro √∫stav:", vystupy ? `‚Ä¢ ${vystupy}` : "‚Ä¢ ‚Äì");
    addTextBlock("Textov√Ω popis p≈ô√≠nosu a harmonogram:", textPole || "‚Äì");
    addTextBlock("4. Poƒçet v√Ωjezd≈Ø v posledn√≠ch 2 letech:", `‚Ä¢ ${getCheckedValue("frekvence")}`);
    addTextBlock("5. Presti≈æ akce, instituce nebo vazba na internacionalizaci:", `‚Ä¢ ${getCheckedValue("presti≈æ")}`);
    addTextBlock("üìä V√Ωsledek hodnocen√≠:", resultText);

    doc.save("hodnoceni-vyjezdu.pdf");
  }
</script>


<!-- TADY SE NAƒåTE FONT -->
 <script>
  window.jsPDF = window.jspdf.jsPDF;
  window.robotoReady = false;
  window.robotoFont = null;

  fetch("Roboto-Regular.ttf")
    .then(response => response.arrayBuffer())
    .then(buffer => {
      const base64String = btoa(
        new Uint8Array(buffer).reduce((data, byte) => data + String.fromCharCode(byte), "")
      );

      window.robotoFont = base64String;
      window.robotoReady = true;
    });
</script>


</body>
</html>
